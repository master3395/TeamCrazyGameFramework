-- https://github.com/EmmanuelOga/easing
local F=math.pow local r=math.sin local h=math.cos local s=math.pi local o=math.sqrt local b=math.abs local p=math.asin local function m(c,b,a,d)return a*c/d+b end local function E(d,b,a,c)d=d/c return a*F(d,2)+b end local function y(d,c,a,b)d=d/b return-a*d*(d-2)+c end local function k(d,b,c,a)d=d/a*2 if d<1 then return c/2*F(d,2)+b else return-c/2*((d-1)*(d-3)-1)+b end end local function l(c,a,b,d)if c<d/2 then return y(c*2,a,b/2,d)else return E((c*2)-d,a+b/2,b/2,d)end end local function z(d,a,b,c)d=d/c return b*F(d,3)+a end local function B(d,b,a,c)d=d/c-1 return a*(F(d,3)+1)+b end local function j(d,b,c,a)d=d/a*2 if d<1 then return c/2*d*d*d+b else d=d-2 return c/2*(d*d*d+2)+b end end local function e(c,a,b,d)if c<d/2 then return B(c*2,a,b/2,d)else return z((c*2)-d,a+b/2,b/2,d)end end local function A(d,a,c,b)d=d/b return c*F(d,4)+a end local function H(d,c,b,a)d=d/a-1 return-b*(F(d,4)-1)+c end local function d(d,c,b,a)d=d/a*2 if d<1 then return b/2*F(d,4)+c else d=d-2 return-b/2*(F(d,4)-2)+c end end local function c(c,a,b,d)if c<d/2 then return H(c*2,a,b/2,d)else return A((c*2)-d,a+b/2,b/2,d)end end local function D(d,b,a,c)d=d/c return a*F(d,5)+b end local function C(d,c,b,a)d=d/a-1 return b*(F(d,5)+1)+c end local function f(d,b,c,a)d=d/a*2 if d<1 then return c/2*F(d,5)+b else d=d-2 return c/2*(F(d,5)+2)+b end end local function g(c,a,b,d)if c<d/2 then return C(c*2,a,b/2,d)else return D((c*2)-d,a+b/2,b/2,d)end end local function w(a,b,d,c)return-d*h(a/c*(s/2))+d+b end local function L(c,d,a,b)return a*r(c/b*(s/2))+d end local function i(d,c,a,b)return-a/2*(h(s*d/b)-1)+c end local function h(b,a,c,d)if b<d/2 then return L(b*2,a,c/2,d)else return w((b*2)-d,a+c/2,c/2,d)end end local function I(b,c,d,a)if b==0 then return c else return d*F(2,10*(b/a-1))+c-d*0.001 end end local function K(b,a,c,d)if b==d then return a+c else return c*1.001*(-F(2,-10*b/d)+1)+a end end local function t(d,c,b,a)if d==0 then return c end if d==a then return c+b end d=d/a*2 if d<1 then return b/2*F(2,10*(d-1))+c-b*0.0005 else d=d-1 return b/2*1.0005*(-F(2,-10*d)+2)+c end end local function n(b,a,c,d)if b<d/2 then return K(b*2,a,c/2,d)else return I((b*2)-d,a+c/2,c/2,d)end end local function v(d,c,a,b)d=d/b return(-a*(o(1-F(d,2))-1)+c)end local function x(d,c,b,a)d=d/a-1 return(b*o(1-F(d,2))+c)end local function u(d,b,c,a)d=d/a*2 if d<1 then return-c/2*(o(1-d*d)-1)+b else d=d-2 return c/2*(o(1-d*d)+1)+b end end local function o(c,a,b,d)if c<d/2 then return x(c*2,a,b/2,d)else return v((c*2)-d,a+b/2,b/2,d)end end local function G(h,a,e,c,f,g)if h==0 then return a end h=h/c if h==1 then return a+e end if not g then g=c*0.3 end local d if not f or f<b(e)then f=e d=g/4 else d=g/(2*s)*p(e/f)end h=h-1 return-(f*F(2,10*h)*r((h*c-d)*(2*s)/g))+a end local function M(h,d,f,c,g,e)if h==0 then return d end h=h/c if h==1 then return d+f end if not e then e=c*0.3 end local a if not g or g<b(f)then g=f a=e/4 else a=e/(2*s)*p(f/g)end return g*F(2,-10*h)*r((h*c-a)*(2*s)/e)+f+d end local function q(h,d,e,c,g,f)if h==0 then return d end h=h/c*2 if h==2 then return d+e end if not f then f=c*(0.3*1.5)end if not g then g=0 end local a if not g or g<b(e)then g=e a=f/4 else a=f/(2*s)*p(e/g)end if h<1 then h=h-1 return-0.5*(g*F(2,10*h)*r((h*c-a)*(2*s)/f))+d else h=h-1 return g*F(2,-10*h)*r((h*c-a)*(2*s)/f)*0.5+e+d end end local function p(e,c,d,f,a,b)if e<f/2 then return M(e*2,c,d/2,f,a,b)else return G((e*2)-f,c+d/2,d/2,f,a,b)end end local function J(e,c,b,a,d)if not d then d=1.70158 end e=e/a return b*e*e*((d+1)*e-d)+c end local function F(e,a,b,c,d)if not d then d=1.70158 end e=e/c-1 return b*(e*e*((d+1)*e+d)+1)+a end local function r(e,c,b,a,d)if not d then d=1.70158 end d=d*1.525 e=e/a*2 if e<1 then return b/2*(e*e*((d+1)*e-d))+c else e=e-2 return b/2*(e*e*((d+1)*e+d)+2)+c end end local function s(c,a,d,e,b)if c<e/2 then return F(c*2,a,d/2,e,b)else return J((c*2)-e,a+d/2,d/2,e,b)end end local function O(d,b,c,a)d=d/a if d<1/2.75 then return c*(7.5625*d*d)+b elseif d<2/2.75 then d=d-(1.5/2.75)return c*(7.5625*d*d+0.75)+b elseif d<2.5/2.75 then d=d-(2.25/2.75)return c*(7.5625*d*d+0.9375)+b else d=d-(2.625/2.75)return c*(7.5625*d*d+0.984375)+b end end local function N(a,b,d,c)return d-O(c-a,0,d,c)+b end local function b(c,a,b,d)if c<d/2 then return N(c*2,0,b,d)*0.5+a else return O(c*2-d,0,b,d)*0.5+b*.5+a end end local function a(b,a,c,d)if b<d/2 then return O(b*2,a,c/2,d)else return N((b*2)-d,a+c/2,c/2,d)end end return{linear=m,inQuad=E,outQuad=y,inOutQuad=k,outInQuad=l,inCubic=z,outCubic=B,inOutCubic=j,outInCubic=e,inQuart=A,outQuart=H,inOutQuart=d,outInQuart=c,inQuint=D,outQuint=C,inOutQuint=f,outInQuint=g,inSine=w,outSine=L,inOutSine=i,outInSine=h,inExpo=I,outExpo=K,inOutExpo=t,outInExpo=n,inCirc=v,outCirc=x,inOutCirc=u,outInCirc=o,inElastic=G,outElastic=M,inOutElastic=q,outInElastic=p,inBack=J,outBack=F,inOutBack=r,outInBack=s,inBounce=N,outBounce=O,inOutBounce=b,outInBounce=a}